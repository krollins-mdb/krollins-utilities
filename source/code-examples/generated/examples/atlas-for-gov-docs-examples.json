[
  {
    "code": "   :copyable: true\n\n   \"regionUsageRestrictions\" : \"GOV_REGIONS_ONLY\"\n\n.. tip:: |service| documentation\n\n   For detailed information on creating a project with the API, \n   including an example request, see \n   :atlas:`Create One Project </reference/api/project-create-one/>`.\n\n{+gov-considerations+}\n-----------------------------------\n\nThe following cloud providers, MongoDB products, and features are \nunavailable for all |api| resources:\n\n- |azure|\n\n- |service| Data Lake\n\n- |service| Online Archives\n\n- |service| Triggers\n\n- MongoDB Charts\n\n- Atlas Device SDKs\n\n- Free, Shared, Flex, and ``M10`` clusters\n\nMany of the commercial |service| |api| resources are limited or \nunavailable:\n\nDatabase Users\n~~~~~~~~~~~~~~\n\nDatabase users who authenticate with \n:manual:`SCRAM </core/security-scram/>` must use ``SCRAM-SHA-256``.\n\nClusters\n~~~~~~~~\n\n.. include:: /includes/m20-required.rst\n\nAlerts\n~~~~~~\n\n- Alerts related to payment methods are unavailable.\n\n- Alerts can come from several different email addresses. For more \n  information, see :ref:`alert-emails`.\n\nThird-Party Integration Settings\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nYou must have the :authrole:`Project Owner` role to \nconfigure a third-party monitoring integration.\n\nDatadog\n```````\n\n.. include:: /includes/facts/datadog-fed.rst\n\nCloud Backups\n~~~~~~~~~~~~~\n\nRestores between standard projects and Gov region-only projects are not allowed. \nIf a backup is created from a cluster in a Gov region-only \n(|aws-fr-high| or |gaw|) project, the data can only be restored to a cluster \nin a Gov region-only project. The same restriction applies to standard projects, \nwhere backups in standard regions can only be restored to clusters in standard projects.\n\nCross-cloud restore is supported between |aws-fr-high| and |gaw| regions. \n\nFlex and Shared Cluster Snapshots and Restore Jobs\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nFlex and Shared clusters are unavailable in |cloudgov-short|.\n\nOnline Archive\n~~~~~~~~~~~~~~\n\nOnline Archives are unavailable in |cloudgov-short|.\n\nNetwork Peering\n~~~~~~~~~~~~~~~\n\n- You can only peer |aws-fr-high| regions with MongoDB clusters in \n  |aws-fr-high| regions. You can only peer |aws-fr-moderate| regions \n  with MongoDB clusters in |aws-fr-moderate| regions.\n- You can only peer |gaw| regions with MongoDB clusters in \n  |gaw| regions.\n\nPrivate Endpoints\n~~~~~~~~~~~~~~~~~\n\n- You can only link |aws-fr-high| regions with MongoDB clusters in \n  |aws-fr-high| regions. You can only link |aws-fr-moderate| regions \n  with MongoDB clusters in |aws-fr-moderate| regions.\n- You can only link |gaw| regions with MongoDB clusters in \n  |gaw| regions.\n\nMonitoring and Logs\n~~~~~~~~~~~~~~~~~~~\n\nIn addition to the standard Atlas logging, \n|cloudgov-short| logs the username and IP address associated with all \nfailed login attempts, temporary lockouts and failed |api| digest \nauthentications.\n\nEncryption at Rest using Customer Key Management\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n- You must use KMS keys in |aws-fr-high| and |gaw| regions to encrypt data in \n  |aws-fr-high| and |gaw| region-only projects. You must use KMS keys in \n  |aws-fr-moderate| regions to encrypt data in |aws-fr-moderate| \n  region-only projects.\n\nAtlas Users\n~~~~~~~~~~~\n\nYou cannot create |cloudgov| users. |cloudgov| is available by \ninvitation only.\n\nAtlas Stream Processing\n~~~~~~~~~~~~~~~~~~~~~~~\n\n|service| Stream Processing is unavailable in |cloudgov-short|.\n\n\nTriggers\n~~~~~~~~\n\nTriggers are unavailable in |cloudgov-short|.\n\n",
    "language": "json",
    "type": "code-block",
    "id": "",
    "path": "/Users/kyle.rollins/Documents/GitHub/cloudgov-docs/source/api.txt"
  },
  {
    "code": "            :copyable: false\n      \n            An error occurred (InvalidParameter) when calling the CreateVpcEndpoint \n            operation: The VPC endpoint service com.amazonaws.vpce.us-east-1.vpce-svc-<...> \n            does not support the availability zone of the subnet: subnet-<...>.\n      \n         If you receive this error, |cloudgov-short| has deployed |vpc| \n         resources into different availability zones than the ones to \n         which you deployed your |vpc| subnets. \n         Please contact MongoDB Support for assistance resolving this \n         error. To contact support, click :guilabel:`Support` from the \n         left-hand navigation bar of the |cloudgov-short| UI.\n              \n      #. Click :guilabel:`Next`.\n      \n   .. step:: Finalize your private endpoint connection.\n      \n      a. Enter your :guilabel:`VPC Endpoint ID`. This is a \n         22-character alphanumeric string that identifies your private \n         endpoint. Find this value on the |aws| VPC Dashboard under \n         :guilabel:`Endpoints` > :guilabel:`VPC ID`.\n      \n      #. Click :guilabel:`Create`.\n      \n   .. step:: Configure your resources' security groups to send traffic to and receive traffic from the interface endpoint.\n      \n      For each resource that needs to connect to your |cloudgov-short| \n      clusters using {+aws-pl+}, the resource's security group must allow \n      outbound traffic to the interface endpoint's private IP(s) on all \n      ports.\n      \n      See :aws:`Adding Rules to a Security Group </AWSEC2/latest/UserGuide/ec2-security-groups.html#adding-security-group-rule>` in the |aws| \n      documentation for more information.\n      \n   .. step:: Create a security group for your interface endpoint to allow resources to access it.\n      \n      This security group must allow inbound traffic on all ports from each \n      resource that needs to connect to your |cloudgov-short| clusters \n      using {+aws-pl+}:\n      \n      a. In the |aws| console, navigate to the :guilabel:`VPC Dashboard`. \n      \n      #. Click :guilabel:`Security Groups`, then click \n         :guilabel:`Create security group`.\n      \n      #. Use the wizard to create a security group. Make sure you select \n         your VPC from the :guilabel:`VPC` list.\n      \n      #. Select the security group you just created, then click the \n         :guilabel:`Inbound Rules` tab.\n      \n      #. Click :guilabel:`Edit Rules`.\n      \n      #. Add rules to allow all inbound traffic from each resource in your\n         VPC that you want to connect to your |cloudgov-short| cluster.\n      \n      #. Click :guilabel:`Save Rules`.\n      \n      #. Click :guilabel:`Endpoints`, then click the endpoint for your\n         VPC.\n      \n      #. Click the :guilabel:`Security Groups` tab, then click \n         :guilabel:`Edit Security Groups`.\n      \n      #. Add the security group you just created, then click \n         :guilabel:`Save`.\n      \n      See :aws:`VPC security groups \n      </vpc/latest/userguide/VPC_SecurityGroups.html>` in the |aws| \n      documentation for more information.\n      \n   .. include:: /includes/atlas-nav/steps-network-access.rst\n   \n   .. step:: Verify that the private endpoint is available.\n      \n      You can connect to an |cloudgov-short| cluster using the {+aws-pl+} \n      private endpoint when all of the resources are configured and the \n      private endpoint becomes available.\n      \n      To verify that the {+aws-pl+} private endpoint is available:\n      \n      a. On the :guilabel:`Private Endpoint` tab, verify the following \n         statuses for the region that contains the cluster \n         you want to connect to using {+aws-pl+}:\n      \n         .. list-table::\n            :widths: 20 80\n      \n            * - :guilabel:`Atlas Endpoint Service Status`\n              - Ready for connection requests\n               \n            * - :guilabel:`Endpoint Status`\n              - Available\n      \n      If you do not see these statuses, see \n      :ref:`privatelink-troubleshooting` for additional information.\n      \n\n",
    "language": "sh",
    "type": "code-block",
    "id": "",
    "path": "/Users/kyle.rollins/Documents/GitHub/cloudgov-docs/source/includes/privatelink/steps-configure-privatelink-aws.rst"
  }
]
